/** @jsx React.DOM */
'use strict';

require.config({
	baseUrl: 'scripts',
	paths: {
		react: 'script/react.min'
	},
	shim: {
		react: {
			exports: 'React'
		}
	}
});

var Player = React.createClass({
	componentDidMount: function() {
		console.log(document.playerReady);
	},
	render: function() {
		//var videoLink = "http://www.youtube.com/embed/" + this.props.music + "?rel=0&autoplay=1";
		//var videoLink = "http://www.youtube.com/embed/" + this.props.music;
		return (
			<div id="player">
			</div>
		);
	}
});

var tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
function onYouTubeIframeAPIReady() {
	console.log(Player);
}

var App = React.createClass({
	getInitialState: function() {
		return {currentMusic: 'vLXS0EGwCZg'};
	},
	render: function() {
		return (
			<Player className="player" music={this.state.currentMusic} />
		);
	}
});
React.renderComponent(
	<App className="application" />,
	document.getElementById('app')
);
